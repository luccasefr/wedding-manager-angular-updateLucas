<div class="default-bg">
    <div class="contentContainer row">
        <div class="col-4 navBar">
            <app-nav-bar actualRoute="/invite"></app-nav-bar>
        </div>
        <div class="col-8">
            <div class="col-10">
                <div class="imgTop">
                    <div class="weddingNames">
                        <p>Casamento</p>
                        <p>{{user.name_1}} e {{user.name_2}}</p>
                    </div>
                </div>
                <div class="page-content"  style="padding: 0 10px">
                    <h1>Convite</h1>
                    <div class="toolsBox">
                        <div *ngIf="!text && !imageObj" style="height:38px;" class="">
                            <button type="button" title="Adicionar texto" (click)="createText($event);showBgs=false" style="margin-bottom:10px;margin-right:10px;" name="button">
                                <fa-icon [icon]="faFont" ></fa-icon>
                            </button>
                            <label for="image" title="Adicionar Imagem" style="margin-bottom:10px;margin-right:10px;" class="button" name="button">
                                <fa-icon [icon]="faImage" ></fa-icon>
                            </label>
                            <input type="file" (change)="createImg($event);showBgs=false" style="display: none;" id="image" name="image" value="">
                            <button type="button" (click)="showBgs=true" title="Escolher imagem de fundo" style="margin-bottom:10px;margin-right:10px;" name="button">
                                <fa-icon [icon]="faImages" ></fa-icon>
                            </button>
                        </div>
                        <div *ngIf="text" style="height:38px;" class="">
                            <label for="fontSize">Tamnho da font (mm)</label>
                            <input type="number" step="0.1" (change)="text.editOrMoving()" [style.width]="'50px'" [(ngModel)]="text.fontSize" name="fontSize" value="">
                            <button class="colorPicker" (change)="text.editOrMoving()" [style.backgroundColor]="text.textColor"
                            [cpPosition]="'bottom'"
                            [cpPositionOffset]="'50%'"
                            [cpPositionRelativeToArrow]="true"
                            [(colorPicker)]="text.textColor"></button>
                            <select [(ngModel)]="text.font" (change)="text.editOrMoving()" name="fonts">
                                <option *ngFor="let font of fonts" [ngValue]="font">{{font.name}}</option>
                            </select>
                            <button type="button" (click)="deleteText(text)" title="deletar texto" style="margin-bottom:10px;margin-right:10px;" name="button">
                                <fa-icon [icon]="faTrashAlt" ></fa-icon>
                            </button>
                        </div>
                        <div *ngIf="imageObj" style="height:38px;" class="">
                            <button type="button" (click)="deleteImage(imageObj)" title="deletar texto" style="margin-bottom:10px;margin-right:10px;" name="button">
                                <fa-icon [icon]="faTrashAlt" ></fa-icon>
                            </button>
                        </div>
                    </div>
                    <div *ngIf="showBgs" class="row my-2">
                        <div *ngFor="let bg of bgImgs" class="col-4">
                            <img src="{{apiUrl}}public{{bg}}" (click)="selectBg(bg)" [ngClass]="{'selected':apiUrl+'public'+bg==invite.bg}" width="100%" alt="">
                        </div>
                    </div>
                    <div class="mb-3">
                        <canvas id="canvas" tabindex='1' #canvas></canvas>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
